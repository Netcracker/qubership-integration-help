# Loop
## Description

---
**Loop** element allows to process an input data through a single flow multiple time. It is designed to handle scenarios, when a list of values is required to be processed separately one by one through a predefined process.

There are two principally different ways of utilizing Loop:

- Use **fixed number of iterations**: this is achieved by entering number (or use a reference to property or variable that also contains a number) to the "Value" field.
- Use **expression** to exit from Loop: this is possible to do by entering **doWhile expression** to the "**Value**" field. Iteration attempts are stopped when expression evaluates to false.

Before the Loop module, it is recommended to set a property with the condition to exit the loop and then refer to it in the "**Value**" field. Notice, that by default the loop uses the same exchange throughout the looping, so the result from the previous iteration will be used for the next.

## User Interface

---
### "Parameters" Tab
#### Common Parameters

| Parameter                                                        | <div style="width:75px">Mandatory</div> | <div style="width:75px">Data Type</div> | Description                                                                                                                                                                                                                                                                                                                                                                                                                                                          | Sample                                                                                                                                                                                                                                                                                               |
|------------------------------------------------------------------|:----------------------------------------|:----------------------------------------|----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| <div style="width:150px">Value</div>                             | M                                       | String                                  | <div style="width:400px">Field, that can specify:<ul><li><b>Counter</b> value, entered with number or reference to property/variable. Simply number of looped runs.</li><li><b>doWhile expression</b>, that makes the flow exit the Loop, when expression evaluates to false.</li></ul>When <b>number</b> entered, but <b>"Expression used"</b> checkbox is enabled, field becomes highlighted with red and does not allow to save the settings in such state.</div> | <div style="width:350px">Property:<div><pre style="background-color: #F5F5F7"><code style="color: #000000">${exchangeProperty.userListSize}</code></pre></div>Expression:<div><pre style="background-color: #F5F5F7"><code style="color: #000000">${headers.iterations} <10</code></pre></div></div> |
| <div style="width:150px">Expression is used</div>                | M                                       | Boolean                                 | <div style="width:400px">Checkbox, that must be enabled, when <b>"Value"</b> field contains an expression to avoid processing failures. Otherwise, it must be disabled.</div>                                                                                                                                                                                                                                                                                        | <div style="width:350px">N/A</div>                                                                                                                                                                                                                                                                   |
| <div style="width:150px">Copy start context each iteration</div> | M                                       | Boolean                                 | <div style="width:400px">Checkbox, that enables reuse of <b>original Exchange data</b> in each sequential iteration.</div>  	                                                                                                                                                                                                                                                                                                                                        | <div style="width:350px">N/A</div>                                                                                                                                                                                                                                                                   |
| <div style="width:150px">Loop iteration index property</div>     | O                                       | String                                  | <div style="width:400px">Index of the current iteration. Any name can be specified for this property and then referred to it in other elements, placed under the Loop container.</div>                                                                                                                                                                                                                                                                               | <div style="width:350px">N/A</div>                                                                                                                                                                                                                                                                   |
| <div style="width:150px">Maximum iteration count</div>           | O                                       | Number                                  | <div style="width:400px">Maximum number of loop iterations. This parameter allows to avoid unexpected cases, caused by infinite loop.</div>                                                                                                                                                                                                                                                                                                                          | <div style="width:350px">100</div>                                                                                                                                                                                                                                                                   |

#### Metadata
| Parameter                                   | <div style="width:75px">Mandatory</div>    | <div style="width:75px">Data Type</div>   | Description                                                               | Sample                                                   |
|---------------------------------------------|:-------------------------------------------|:------------------------------------------|---------------------------------------------------------------------------|----------------------------------------------------------|
| <div style="width:150px">Name</div>         | M                                          | String                                    | <div style="width:400px">Name of the element.	</div>                      | <div style="width:350px">Loop</div>                      |
| <div style="width:150px">Description</div>  | O                                          | String                                    | <div style="width:400px">Free text field for element description.	</div>  | <div style="width:350px">Processes array of items.</div> |

## Constraints

---
There are no specific constraints for the element.