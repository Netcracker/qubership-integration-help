# SFTP Trigger
## Description

---
This element allows to trigger the chain by periodically fetching the file(s) from **FTP** server.

<div style="background-color: #e7f3fe; border-left: 6px solid #2196F3; padding: 10px">According to <b>Apache Camel</b> framework, when chain is triggered, system creates <b>Exchange Object</b>, that handles input data following the logic, described in respective article: <a href="doc/00__Overview/2__Apache_Camel_Context_Concept/apache_camel_context_concept.md">Apache Camel Context Concept</a>.</div>

## User Interface

---
### "Parameters" Tab
#### Common Parameters
| Parameter                                                         | <div style="width:75px">Mandatory</div> | <div style="width:75px">Data Type</div> | Description                                                                                                                                                                     | Sample                                                      |
| ----------------------------------------------------------------- | :-------------------------------------- | :-------------------------------------- | ------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- | ----------------------------------------------------------- |
| <div style="width:150px">Host:Port/Directory</div>                | M                                       | String                                  | <div style="width:400px">Specifies Hostname of the (S)FTP server, port of the (S)FTP server and the directory, where files with specified mask or name must be processed.</div> | <div style="width:350px">sftp:host:port/directoryName</div> |
| <div style="width:150px">Polling schedule (cron expression)</div> | M                                       | String                                  | <div style="width:400px">Specifies a time interval via <b>Unix cron</b> syntax. With this interval the system will be polling new messages from the specified directory.</div>  | <div style="width:350px">0/10+*+*+*+*+?</div>               |

#### Advanced Parameters
| Parameter                                                              | <div style="width:75px">Mandatory</div> | <div style="width:75px">Data Type</div> | Description                                                                                                                                                                                                                                                                                                                                                                                                           | Sample                                                                     |
| ---------------------------------------------------------------------- | :-------------------------------------- | :-------------------------------------- | --------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- | -------------------------------------------------------------------------- |
| <div style="width:150px">File Name (mask supported) </div>             | O                                       | String                                  | <div style="width:400px">File name pattern or its exact name. All files matching the criteria are going to be downloaded. </div>                                                                                                                                                                                                                                                                                      | <div style="width:350px">*.txt</div>                                       |
| <div style="width:150px">Do not download files with same filekey</div> | O                                       | Boolean                                 | <div style="width:400px">Checkbox that disables sequential downloading of the same files. Unchecked by default.</div>                                                                                                                                                                                                                                                                                                 | <div style="width:350px">N/A</div>                                         |
| <div style="width:150px">Filekey string </div>                         | O                                       | String                                  | <div style="width:400px">Combination of file properties that uniquely identifies the exact file. If properties value of this combination has been changed - element will consider this as appearance of a new file, hence it will start processing. When left empty, then  the absolute path of the file will be considered as a file key.<br/><b>Default value: </b>${file:name}-${file:size}-${file:modified}</div> | <div style="width:350px">${file:name}-${file:size}-${file:modified} </div> |
| <div style="width:150px">Username </div>                               | O                                       | String                                  | <div style="width:400px">Username value, required for authenticated access.</div>                                                                                                                                                                                                                                                                                                                                     | <div style="width:350px">N/A</div>                                         |
| <div style="width:150px">Password</div>                                | O                                       | String                                  | <div style="width:400px">Password value, required for authenticated access.</div>                                                                                                                                                                                                                                                                                                                                     | <div style="width:350px">N/A</div>                                         |


#### Metadata
| Parameter                                  | <div style="width:75px">Mandatory</div> | <div style="width:75px">Data Type</div> | Description                                                                               | Sample                                                                                   |
| ------------------------------------------ | :-------------------------------------- | :-------------------------------------- | ----------------------------------------------------------------------------------------- | ---------------------------------------------------------------------------------------- |
| <div style="width:150px">Name</div>        | M                                       | String                                  | <div style="width:400px">Name of the element.</div>                                       | <div style="width:350px">SFTP Trigger</div>                                              |
| <div style="width:150px">Description</div> | O                                       | String                                  | <div style="width:400px">Free text field, that contains description of the element.</div> | <div style="width:350px">Triggers the chain when new file appears in the directory</div> |

## Constraints

---
Can't set input dependency to element.