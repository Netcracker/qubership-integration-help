# Data Transformation via Mapper
## Description

---
There is an ability to alter input data from each available Mapper View:
- **Graph View** - click connection circle for target attribute when it is connected with one or multiple source attributes with connection arrow(s).
- **Table View** - click on "**Transformation**" field for target attribute when source attribute is specified in the table.
- **Text View**  - manually enter transformation setting with custom syntax, described in [main Mapper article](docs/01__Chains/1__Graph/1__QIP_Elements_Library/5__Transformation/2__Mapper/mapper.md).

For **Graph** and **Table** views when transformation window is opened, it allows to:
- Select transformation option from the pre-defined list.
- Enter the transformation rules manually via Expression.
- Specify transformation description.

Scenarios, mapping structure, transformation settings and input/output samples are available in the tables below. While reviewing mentioned tables, note that parameters from all mapper sections, such as "Constants", "Headers", "Properties" and "Body", might participate in transformation.

<div style="background-color: #e7f3fe; border-left: 6px solid #2196F3; padding: 10px">
<b>Note:</b><br>
Tables below are only applicable for Graph and Table views.
</div>

### Expressions

User might specify expression for mapped fields based on custom AtlasMap syntax. This option might be used when there is complex data transformation required to be performed against input data. It is also possible to "replicate" transformations, which are available as options in the "Transformation" dropdown list. For more convenient expression entering system displays prompts, which might be accessed via combination of Ctrl + Space. Each function in the prompts is supplied with snippet, that contains detailed description and syntax. While working with expressions, the following notes shall be considered:
- Combination of different functions is available in a single transformation.
- It is required to use single quotes when specifying string in the expressions (e.g. 'String').

Table below contains a list of functions and scenarios as well as supportive information for their realization.

| <div style="width:200px">Function/scenario</div>                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            | <div style="width:500px"> Mapper structure sample </div> | <div style="width:300px"> Expression sample </div>                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                  | <div style="width:300px"> Input data </div>                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                  | <div style="width:300px"> Result </div>                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                              |
| --------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- | -------------------------------------------------------- | --------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- | -------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- | ------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------ |
| <div style="width:200px"><strong>Concatenation</strong><br/>Concatenation of two fields with "_" as a separator.</div>                                                                                                                                                                                                                                                                                                                                                                                                                                                      | ![[docs/01__Chains/1__Graph/1__QIP_Elements_Library/5__Transformation/2__Mapper/img/concatenation.png]]                                   | <div style="width:300px"><pre style="background-color: #F5F5F7;"><code style="color: #000;">body.firstName + '_' + body.lastName</code></pre></div>                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                 | <div style="width:300px"><pre style="background-color: #F5F5F7;"><code style="color: #000;">{</code><br/><code style="color: #000000">   "firstName": "John",</code><br/><code style="color: #000000">   "lastName": "Smith"</code><br/><code style="color: #000000">}</code></pre></div>                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    | <div style="width:300px"><pre style="background-color: #F5F5F7;"><code style="color: #000;">{</code><br/><code style="color: #000000">   "customerName": "John_Smith"</code><br/><code style="color: #000000">}</code></pre></div>                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                   |
| <div style="width:200px"><strong>Arithmetic operations</strong><br/>Expressions support the following list of arithmetic operators:<br/><ul><li>"<b>+</b>" - allows to add one numeric value to another numeric value.</li><br/><li>"<b>-</b>" - allows to subtract a numeric value from another numeric value.</li><br/><li>"<b>/</b>" - allows to divide numeric values.</li><br/><li>"<b>*</b>" - allows to multiply numeric values.</li><br/><li>"<b>%</b>" - allows to get remainder of division.</li></ul> Mentioned operators shall be entered without quotes.</div> | ![[docs/01__Chains/1__Graph/1__QIP_Elements_Library/5__Transformation/2__Mapper/img/arithmetic.png]]                                      | <div style="width:300px"><pre style="background-color: #F5F5F7;"><code style="color: #000;">body.productPrice - body.discount</code></pre></div>                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    | <div style="width:300px"><pre style="background-color: #F5F5F7;"><code style="color: #000;">{</code><br/><code style="color: #000000">   "productPrice": 125,</code><br/><code style="color: #000000">   "discount": 20</code><br/><code style="color: #000000">}</code></pre></div>                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                         | <div style="width:300px"><pre style="background-color: #F5F5F7;"><code style="color: #000;">{</code><br/><code style="color: #000000">   "discountedPrice": 105</code><br/><code style="color: #000000">}</code></pre></div>                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                         |
| <div style="width:200px"><strong>if</strong><br/>Condition (if two parameters are equal - pass "true", Otherwise "false").</div>                                                                                                                                                                                                                                                                                                                                                                                                                                            | ![[docs/01__Chains/1__Graph/1__QIP_Elements_Library/5__Transformation/2__Mapper/img/if1.png]]                                             | <div style="width:300px"><pre style="background-color: #F5F5F7;"><code style="color: #000;">if (body.oldPrice == body.newPrice, true, false)</code></pre></div>                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                     | <div style="width:300px"><pre style="background-color: #F5F5F7;"><code style="color: #000;">{</code><br/><code style="color: #000000">   "oldPrice": 125,</code><br/><code style="color: #000000">   "newPrice": 120</code><br/><code style="color: #000000">}</code></pre></div>                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            | <div style="width:300px"><pre style="background-color: #F5F5F7;"><code style="color: #000;">{</code><br/><code style="color: #000000">   "priceEqual": false</code><br/><code style="color: #000000">}</code></pre></div>                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            |
| <div style="width:200px"><strong>if - arithmetic operation within</strong><br/>Condition (if remainder after param1 has been divided is not equal to 0, then "true", else "false").</div>                                                                                                                                                                                                                                                                                                                                                                                   | ![[docs/01__Chains/1__Graph/1__QIP_Elements_Library/5__Transformation/2__Mapper/img/if2.png]]                                             | <div style="width:300px"><pre style="background-color: #F5F5F7;"><code style="color: #000;">if(body.price % 2 != 0, 'true', 'false')</code></pre></div>                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                             | <div style="width:300px"><pre style="background-color: #F5F5F7;"><code style="color: #000;">{</code><br/><code style="color: #000000">   "price": 125</code><br/><code style="color: #000000">}</code></pre></div>                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                           | <div style="width:300px"><pre style="background-color: #F5F5F7;"><code style="color: #000;">{</code><br/><code style="color: #000000">   "priceValidation": "true"</code><br/><code style="color: #000000">}</code></pre></div>                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      |
| <div style="width:200px"><strong>isempty</strong><br/>Check that value of source field is empty.</div>                                                                                                                                                                                                                                                                                                                                                                                                                                                                      | ![[docs/01__Chains/1__Graph/1__QIP_Elements_Library/5__Transformation/2__Mapper/img/isEmpty.png]]                                         | <div style="width:300px"><pre style="background-color: #F5F5F7;"><code style="color: #000;">isempty(body.customerName)</code></pre></div>                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                           | <div style="width:300px"><pre style="background-color: #F5F5F7;"><code style="color: #000;">{</code><br/><code style="color: #000000">   "productName": "Mobile Phone"</code><br/><code style="color: #000000">}</code></pre></div>                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                          | <div style="width:300px"><pre style="background-color: #F5F5F7;"><code style="color: #000;">{</code><br/><code style="color: #000000">   "isAnonym": true,</code><br/><code style="color: #000000">   "product": "Mobile Phone"</code><br/><code style="color: #000000">}</code></pre></div>                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                         |
| <div style="width:200px"><strong>tolower</strong><br/>Convert string value to lowercase.</div>                                                                                                                                                                                                                                                                                                                                                                                                                                                                              | ![[docs/01__Chains/1__Graph/1__QIP_Elements_Library/5__Transformation/2__Mapper/img/tolower.png]]                                         | <div style="width:300px"><pre style="background-color: #F5F5F7;"><code style="color: #000;">tolower(body.code)</code></pre></div>                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                   | <div style="width:300px"><pre style="background-color: #F5F5F7;"><code style="color: #000;">{</code><br/><code style="color: #000000">   "code": "AL NT5634BLK"</code><br/><code style="color: #000000">}</code></pre></div>                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                 | <div style="width:300px"><pre style="background-color: #F5F5F7;"><code style="color: #000;">{</code><br/><code style="color: #000000">   "model": "al nt5634blk"</code><br/><code style="color: #000000">}</code></pre></div>                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        |
| <div style="width:200px"><strong>filterBy</strong><br/>Pick all objects from the array, where field "value" is bigger than "2" (mentioned fields shall be connected).</div>                                                                                                                                                                                                                                                                                                                                                                                                 | ![[docs/01__Chains/1__Graph/1__QIP_Elements_Library/5__Transformation/2__Mapper/img/filterBy.png]]                                        | <div style="width:300px"><pre style="background-color: #F5F5F7;"><code style="color: #000;">filterBy(</code><br/><code style="color: #000000">   body.products,</code><br/><code style="color: #000000">   body.products.productPrice > constant.2</code><br/><code style="color: #000000">)</code></pre></div>                                                                                                                                                                                                                                                                                                                                                                                                                                                                                     | <div style="width:300px"><pre style="background-color: #F5F5F7;"><code style="color: #000;">{</code><br/><code style="color: #000000">   "products": [</code><br/><code style="color: #000000">      {</code><br/><code style="color: #000000">         "productName": "product1",</code><br/><code style="color: #000000">         "productPrice": 5</code><br/><code style="color: #000000">      },</code><br/><code style="color: #000000">      {</code><br/><code style="color: #000000">         "productName": "product2",</code><br/><code style="color: #000000">         "productPrice": 1</code><br/><code style="color: #000000">      },</code><br/><code style="color: #000000">      {</code><br/><code style="color: #000000">         "productName": "product3",</code><br/><code style="color: #000000">         "productPrice": 3</code><br/><code style="color: #000000">      }</code><br/><code style="color: #000000">   ]</code><br/><code style="color: #000000">}</code></pre></div>                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                              | <div style="width:300px"><pre style="background-color: #F5F5F7;"><code style="color: #000;">{</code><br/><code style="color: #000000">   "newProducts":[</code><br/><code style="color: #000000">      {</code><br/><code style="color: #000000">         "productPrice":5,</code><br/><code style="color: #000000">         "productName":"product1"</code><br/><code style="color: #000000">      },</code><br/><code style="color: #000000">      {</code><br/><code style="color: #000000">         "productPrice":3,</code><br/><code style="color: #000000">         "productName":"product3"</code><br/><code style="color: #000000">      }</code><br/><code style="color: #000000">   ]</code><br/><code style="color: #000000">}</code></pre></div>                                                                                                                                                                                                                        |
| <div style="width:200px"><strong>getFirst</strong><br/>Get first object from the array.</div>                                                                                                                                                                                                                                                                                                                                                                                                                                                                               | ![[docs/01__Chains/1__Graph/1__QIP_Elements_Library/5__Transformation/2__Mapper/img/getFirst1.png]]                                       | <div style="width:300px"><pre style="background-color: #F5F5F7;"><code style="color: #000;">getFirst(body.customers)</code></pre></div>                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                             | <div style="width:300px"><pre style="background-color: #F5F5F7;"><code style="color: #000;">{</code><br/><code style="color: #000000">   "customers": [</code><br/><code style="color: #000000">      {</code><br/><code style="color: #000000">         "customerName": "John Smith",</code><br/><code style="color: #000000">         "customerId": 1234567890</code><br/><code style="color: #000000">      },</code><br/><code style="color: #000000">      {</code><br/><code style="color: #000000">         "customerName": "Alan Norman",</code><br/><code style="color: #000000">         "customerId": 2345678901</code><br/><code style="color: #000000">      },</code><br/><code style="color: #000000">      {</code><br/><code style="color: #000000">         "customerName": "Juan Rodriguez",</code><br/><code style="color: #000000">         "customerId": 3456789012</code><br/><code style="color: #000000">      }</code><br/><code style="color: #000000">   ]</code><br/><code style="color: #000000">}</code></pre></div>                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                          | <div style="width:300px"><pre style="background-color: #F5F5F7;"><code style="color: #000;">{</code><br/><code style="color: #000000">   "customer":{</code><br/><code style="color: #000000">      "customerName":"John Smith",</code><br/><code style="color: #000000">      "customerId":1234567890</code><br/><code style="color: #000000">      }</code><br/><code style="color: #000000">}</code></pre></div>                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                  |
| <div style="width:200px"><strong>getFirst - filter by value</strong><br/>Pick first primitive, which is bigger than "4", from the array.</div>                                                                                                                                                                                                                                                                                                                                                                                                                              | ![[docs/01__Chains/1__Graph/1__QIP_Elements_Library/5__Transformation/2__Mapper/img/getFirst2.png]]                                       | <div style="width:300px"><pre style="background-color: #F5F5F7;"><code style="color: #000;">getFirst(</code><br/><code style="color: #000;">   filterBy(</code><br/><code style="color: #000000">      body.priceList,</code><br/><code style="color: #000000">      body.priceList > constant.4</code><br/><code style="color: #000000">   )</code><br/><code style="color: #000000">)</code></pre></div>                                                                                                                                                                                                                                                                                                                                                                                          | <div style="width:300px"><pre style="background-color: #F5F5F7;"><code style="color: #000;">{</code><br/><code style="color: #000000">   "priceList": [</code><br/><code style="color: #000000">      3,</code><br/><code style="color: #000000">      1,</code><br/><code style="color: #000000">      5,</code><br/><code style="color: #000000">      7</code><br/><code style="color: #000000">   ]</code><br/><code style="color: #000000">}</code></pre></div>                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                         | <div style="width:300px"><pre style="background-color: #F5F5F7;"><code style="color: #000;">{</code><br/><code style="color: #000000">   "price": 5</code><br/><code style="color: #000000">}</code></pre></div>                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                     |
| <div style="width:200px"><strong>getFirst - build map</strong><br/>Get first object from array, where id = 100, and return only value(s) placed in "values" (value might be an array of primitives).</div>                                                                                                                                                                                                                                                                                                                                                                  | ![[docs/01__Chains/1__Graph/1__QIP_Elements_Library/5__Transformation/2__Mapper/img/getFirst3.png]]                                       | <div style="width:300px"><pre style="background-color: #F5F5F7;"><code style="color: #000;">getFirst(body.customers)</code><br/><code style="color: #000;">   map(filterBy(</code><br/><code style="color: #000;">      body.product.productCharacteristics,</code><br/><code style="color: #000;">      body.product.productCharacteristics.id == constant.100</code><br/><code style="color: #000;">      ),</code><br/><code style="color: #000;">   body.product.productCharacteristics.values</code><br/><code style="color: #000;">   )</code><br/><code style="color: #000000">)</code></pre></div>                                                                                                                                                                                          | <div style="width:300px"><pre style="background-color: #F5F5F7;"><code style="color: #000;">{</code><br/><code style="color: #000000">   "product": [</code><br/><code style="color: #000000">      {</code><br/><code style="color: #000000">         "productCharacteristics": [</code><br/><code style="color: #000000">            {</code><br/><code style="color: #000000">               "values": [</code><br/><code style="color: #000000">                  "Prepaid",</code><br/><code style="color: #000000">                  "Postpaid"</code><br/><code style="color: #000000">               ],</code><br/><code style="color: #000000">               "id": 200</code><br/><code style="color: #000000">            },</code><br/><code style="color: #000000">            {</code><br/><code style="color: #000000">               "values": [</code><br/><code style="color: #000000">                  "B2C",</code><br/><code style="color: #000000">                  "B2B"</code><br/><code style="color: #000000">               ],</code><br/><code style="color: #000000">               "id": 100</code><br/><code style="color: #000000">            },</code><br/><code style="color: #000000">            {</code><br/><code style="color: #000000">               "values": [</code><br/><code style="color: #000000">                  "Preorder",</code><br/><code style="color: #000000">                  "Standalone"</code><br/><code style="color: #000000">               ],</code><br/><code style="color: #000000">               "id": 100</code><br/><code style="color: #000000">            }</code><br/><code style="color: #000000">         ]</code><br/><code style="color: #000000">      }</code><br/><code style="color: #000000">   ]</code><br/><code style="color: #000000">}</code></pre></div>                                                                                      | <div style="width:300px"><pre style="background-color: #F5F5F7;"><code style="color: #000;">{</code><br/><code style="color: #000000">   "characteristicValues":[</code><br/><code style="color: #000000">      "B2C",</code><br/><code style="color: #000000">      "B2B"</code><br/><code style="color: #000000">   ]</code><br/><code style="color: #000000">}</code></pre></div>                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                 |
| <div style="width:200px"><strong>trim</strong><br/>Trim leading and trailing spaces from the string.</div>                                                                                                                                                                                                                                                                                                                                                                                                                                                                  | ![[docs/01__Chains/1__Graph/1__QIP_Elements_Library/5__Transformation/2__Mapper/img/replaceAll.png]]                                      | <div style="width:300px"><pre style="background-color: #F5F5F7;"><code style="color: #000;">trim(body.description)</code></pre></div>                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                               | <div style="width:300px"><pre style="background-color: #F5F5F7;"><code style="color: #000;">{</code><br/><code style="color: #000000">   "description": "        order123       "</code><br/><code style="color: #000000">}</code></pre></div>                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                               | <div style="width:300px"><pre style="background-color: #F5F5F7;"><code style="color: #000;">{</code><br/><code style="color: #000000">   "updatedDescription": "order123"</code><br/><code style="color: #000000">}</code></pre></div>                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                               |
| <div style="width:200px"><strong>replaceAll</strong><br/>Put every word and underscores from the string in the round brackets.</div>                                                                                                                                                                                                                                                                                                                                                                                                                                        | ![[docs/01__Chains/1__Graph/1__QIP_Elements_Library/5__Transformation/2__Mapper/img/replaceAll.png]]                                      | <div style="width:300px"><pre style="background-color: #F5F5F7;"><code style="color: #000;">replaceAll(body.description, '(\w[\w\d_]*)', '($1)')</code></pre></div>                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                 | <div style="width:300px"><pre style="background-color: #F5F5F7;"><code style="color: #000;">{</code><br/><code style="color: #000000">   "description": "New order_1 has been created"</code><br/><code style="color: #000000">}</code></pre></div>                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                          | <div style="width:300px"><pre style="background-color: #F5F5F7;"><code style="color: #000;">{</code><br/><code style="color: #000000">   "updatedDescription": "(New) (order_1) (has) (been) (created)"</code><br/><code style="color: #000000">}</code></pre></div>                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                 |
| <div style="width:200px"><strong>map</strong><br/>Fetch "id" and "type" for each customer object in array and map them together with a separator (e.g. to an array of strings).</div>                                                                                                                                                                                                                                                                                                                                                                                       | ![[docs/01__Chains/1__Graph/1__QIP_Elements_Library/5__Transformation/2__Mapper/img/map.png]]                                             | <div style="width:300px"><pre style="background-color: #F5F5F7;"><code style="color: #000;">map(</code><br/><code style="color: #000;">   body.customers,</code><br/><code style="color: #000;">   body.customers.id + '_' + body.customers.type</code><br/><code style="color: #000;">)</code></pre></div>                                                                                                                                                                                                                                                                                                                                                                                                                                                                                         | <div style="width:300px"><pre style="background-color: #F5F5F7;"><code style="color: #000;">{</code><br/><code style="color: #000000">   "customers": [</code><br/><code style="color: #000000">      {</code><br/><code style="color: #000000">         "type": "Residential",</code><br/><code style="color: #000000">         "id": "1234567890"</code><br/><code style="color: #000000">      },</code><br/><code style="color: #000000">      {</code><br/><code style="color: #000000">         "type": "Business",</code><br/><code style="color: #000000">         "id": "2345678901"</code><br/><code style="color: #000000">      },</code><br/><code style="color: #000000">      {</code><br/><code style="color: #000000">         "type": "Residential",</code><br/><code style="color: #000000">         "id": "3456789012"</code><br/><code style="color: #000000">      }</code><br/><code style="color: #000000">   ]</code><br/><code style="color: #000000">}</code></pre></div>                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                         | <div style="width:300px"><pre style="background-color: #F5F5F7;"><code style="color: #000;">{</code><br/><code style="color: #000000">   "customers":[</code><br/><code style="color: #000000">      "1234567890_Residential",</code><br/><code style="color: #000000">      "2345678901_Business",</code><br/><code style="color: #000000">      "3456789012_Residential"</code><br/><code style="color: #000000">   ]</code><br/><code style="color: #000000">}</code></pre></div>                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                 |
| <div style="width:200px"><strong>sort - ascending</strong><br/>Sort array of customers based on each customer's name in alphabet order.</div>                                                                                                                                                                                                                                                                                                                                                                                                                               | ![[docs/01__Chains/1__Graph/1__QIP_Elements_Library/5__Transformation/2__Mapper/img/sort1.png]]                                           | <div style="width:300px"><pre style="background-color: #F5F5F7;"><code style="color: #000;">sort(body.customers, body.customers.name)</code></pre></div>                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            | <div style="width:300px"><pre style="background-color: #F5F5F7;"><code style="color: #000;">{</code><br/><code style="color: #000000">   "customers": [</code><br/><code style="color: #000000">      {</code><br/><code style="color: #000000">         "name": "John Smith",</code><br/><code style="color: #000000">         "age": 32</code><br/><code style="color: #000000">      },</code><br/><code style="color: #000000">      {</code><br/><code style="color: #000000">         "name": "Alan Norman", </code><br/><code style="color: #000000">         "age": 20</code><br/><code style="color: #000000">      },</code><br/><code style="color: #000000">      {</code><br/><code style="color: #000000">         "name": "Juan Rodriguez",</code><br/><code style="color: #000000">         "age": 44</code><br/><code style="color: #000000">      }</code><br/><code style="color: #000000">   ]</code><br/><code style="color: #000000">}</code></pre></div>                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                              | <div style="width:300px"><pre style="background-color: #F5F5F7;"><code style="color: #000;">{</code><br/><code style="color: #000000">   "customerList": [</code><br/><code style="color: #000000">      {</code><br/><code style="color: #000000">         "name": "Alan Norman", </code><br/><code style="color: #000000">         "age": 20</code><br/><code style="color: #000000">      },</code><br/><code style="color: #000000">      {</code><br/><code style="color: #000000">         "name": "John Smith", </code><br/><code style="color: #000000">         "age": 32</code><br/><code style="color: #000000">      },</code><br/><code style="color: #000000">      {</code><br/><code style="color: #000000">         "name": "Juan Rodriguez", </code><br/><code style="color: #000000">         "age": 44</code><br/><code style="color: #000000">      }</code><br/><code style="color: #000000">   ]</code><br/><code style="color: #000000">}</code></pre></div> |
| <div style="width:200px"><strong>sort - descending</strong><br/>Sort values in "numbers" array in descending order.</div>                                                                                                                                                                                                                                                                                                                                                                                                                                                   | ![[docs/01__Chains/1__Graph/1__QIP_Elements_Library/5__Transformation/2__Mapper/img/sort2.png]]                                           | <div style="width:300px"><pre style="background-color: #F5F5F7;"><code style="color: #000;">sort(body.numbers, -body.numbers)</code></pre></div>                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    | <div style="width:300px"><pre style="background-color: #F5F5F7;"><code style="color: #000;">{</code><br/><code style="color: #000000">   "numbers": [</code><br/><code style="color: #000000">      12,</code><br/><code style="color: #000000">      3,</code><br/><code style="color: #000000">      7,</code><br/><code style="color: #000000">      33</code><br/><code style="color: #000000">   ]</code><br/><code style="color: #000000">}</code></pre></div>                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                         | <div style="width:300px"><pre style="background-color: #F5F5F7;"><code style="color: #000;">{</code><br/><code style="color: #000000">   "numbers": [</code><br/><code style="color: #000000">      33,</code><br/><code style="color: #000000">      12,</code><br/><code style="color: #000000">      7,</code><br/><code style="color: #000000">      3</code><br/><code style="color: #000000">   ]</code><br/><code style="color: #000000">}</code></pre></div>                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                 |
| <div style="width:200px"><strong>getKeys</strong><br/>Pick all field names (keys) from the object.<br/></div><div style="background-color: #e7f3fe; border-left: 6px solid #2196F3; padding: 10px"><b>Note:</b><br/>This function cannot be used inside <i>filterBy</i>, <i>sort</i>, <i>map</i> functions.</div>                                                                                                                                                                                                                                                           | ![[docs/01__Chains/1__Graph/1__QIP_Elements_Library/5__Transformation/2__Mapper/img/getKeys.png]]                                         | <div style="width:300px"><pre style="background-color: #F5F5F7;"><code style="color: #000;">getKeys(body.customerAddress)</code></pre></div>                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        | <div style="width:300px"><pre style="background-color: #F5F5F7;"><code style="color: #000;">{</code><br/><code style="color: #000000">   "customerAddress":{</code><br/><code style="color: #000000">      "zipCode": "81647",</code><br/><code style="color: #000000">      "street": {</code><br/><code style="color: #000000">         "streetName": "Piramide Drive"</code><br/><code style="color: #000000">      }</code><br/><code style="color: #000000">   }</code><br/><code style="color: #000000">}</code></pre></div>                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                           | <div style="width:300px"><pre style="background-color: #F5F5F7;"><code style="color: #000;">{</code><br/><code style="color: #000000">   "keys": [</code><br/><code style="color: #000000">      "zipCode",</code><br/><code style="color: #000000">      "street"</code><br/><code style="color: #000000">   ]</code><br/><code style="color: #000000">}</code></pre></div>                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                         |
| <div style="width:200px"><strong>getValues</strong><br/>Pick all field values from the object.<br/></div><div style="background-color: #e7f3fe; border-left: 6px solid #2196F3; padding: 10px"><b>Note:</b><br/>This function cannot be used inside <i>filterBy</i>, <i>sort</i>, <i>map</i> functions.<br/>When <i>getValues</i> is placed inside <i>replaceAll</i> function it will be <b>only</b> properly transformed if fields have string data type.</div>                                                                                                            | ![[docs/01__Chains/1__Graph/1__QIP_Elements_Library/5__Transformation/2__Mapper/img/getValues.png]]                                       | <div style="width:300px"><pre style="background-color: #F5F5F7;"><code style="color: #000;">getValues(body.contactNumbers)</code></pre></div>                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                       | <div style="width:300px"><pre style="background-color: #F5F5F7;"><code style="color: #000;">{</code><br/><code style="color: #000000">   "contactNumbers":{</code><br/><code style="color: #000000">       "personalTelNum": "(&#42;&#42;&#42;) &#42;&#42;&#42;-0886",</code><br/><code style="color: #000000">       "officeTelNum": "(&#42;&#42;&#42;) &#42;&#42;&#42;-3651",</code><br/><code style="color: #000000">       "additionalTelNum": "(&#42;&#42;&#42;) &#42;&#42;&#42;-3228"</code><br/><code style="color: #000000">    }</code><br/><code style="color: #000000">}</code></pre></div>                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                       | <div style="width:300px"><pre style="background-color: #F5F5F7;"><code style="color: #000;">{</code><br/><code style="color: #000000">   "contacts": [</code><br/><code style="color: #000000">      "(&#42;&#42;&#42;) &#42;&#42;&#42;-0886",</code><br/><code style="color: #000000">      "(&#42;&#42;&#42;) &#42;&#42;&#42;-3651",</code><br/><code style="color: #000000">      "(&#42;&#42;&#42;) &#42;&#42;&#42;-3228"</code><br/><code style="color: #000000">   ]</code><br/><code style="color: #000000">}</code></pre></div>                                                                                                                                                                                                                                                                                                                                                                                                                                              |
| <div style="width:200px"><strong>formatDateTime</strong><br/>Build datetime with format 'yyyy-MM-dd' from three connected source body fields.<br/></div><div style="background-color: #e7f3fe; border-left: 6px solid #2196F3; padding: 10px"><b>Note:</b><br/>This function requires at least two arguments specified, one of them must be format.</div>                                                                                                                                                                                                                   | ![[docs/01__Chains/1__Graph/1__QIP_Elements_Library/5__Transformation/2__Mapper/img/formatDateTime.png]]                                  | <div style="width:300px"><pre style="background-color: #F5F5F7;"><code style="color: #000;">formatDateTime(</code><br/><code style="color: #000;">   'yyyy-MM-dd',</code><br/><code style="color: #000;">   constant.year,</code><br/><code style="color: #000;">   constant.month,</code><br/><code style="color: #000;">   constant.dayOfMonth</code><br/><code style="color: #000;">)</code></pre></div>                                                                                                                                                                                                                                                                                                                                                                                         | <div style="width:300px"><pre style="background-color: #F5F5F7;"><code style="color: #000000">No body</code></code></pre></div>                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                              | <div style="width:300px"><pre style="background-color: #F5F5F7;"><code style="color: #000;">{</code><br/><code style="color: #000000">   "dateTime": "2024-05-27"</code><br/><code style="color: #000000">}</code></pre></div>                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                       |
| <div style="width:200px"><strong>formatDateTime - constants</strong><br/>Build complex datetime with format 'yyyy-MM-dd HH:mm:ss.SSSZ' from three connected source body fields and constants.<br/></div><div style="background-color: #e7f3fe; border-left: 6px solid #2196F3; padding: 10px"><b>Note:</b><br/>This function requires at least two arguments specified, one of them must be format.</div>                                                                                                                                                                   | ![[docs/01__Chains/1__Graph/1__QIP_Elements_Library/5__Transformation/2__Mapper/img/formatDateTime.png]]                                  | <div style="width:300px"><pre style="background-color: #F5F5F7;"><code style="color: #000;">formatDateTime(</code><br/><code style="color: #000;">   'yyyy-MM-dd HH:mm:ss.SSSZ',</code><br/><code style="color: #000;">   constant.year,</code><br/><code style="color: #000;">   constant.month,</code><br/><code style="color: #000;">   constant.dayOfMonth,</code><br/><code style="color: #000;">   17, -- hours</code><br/><code style="color: #000;">   11, -- minutes</code><br/><code style="color: #000;">   12, -- seconds</code><br/><code style="color: #000;">   532, -- milliseconds</code><br/><code style="color: #000;">   'Europe/Moscow', -- timezone</code><br/><code style="color: #000;">   'ru' -- locale</code><br/><code style="color: #000;">)</code></pre></div>        | <div style="width:300px"><pre style="background-color: #F5F5F7;"><code style="color: #000000">No body</code></code></pre></div>                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                              | <div style="width:300px"><pre style="background-color: #F5F5F7;"><code style="color: #000;">{</code><br/><code style="color: #000000">   "dateTime": "2024-05-27 17:11:12.532+0300"</code><br/><code style="color: #000000">}</code></pre></div>                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                     |
| <div style="width:200px"><strong>formatDateTime - null</strong><br/>Build complex datetime with format 'yyyy-MM-dd HH:mm:ss.SSSZ' but skip hours, minutes, seconds and milliseconds.<br/></div><div style="background-color: #e7f3fe; border-left: 6px solid #2196F3; padding: 10px"><b>Note:</b><br/>This function requires at least two arguments specified, one of them must be format.</div>                                                                                                                                                                            | ![[docs/01__Chains/1__Graph/1__QIP_Elements_Library/5__Transformation/2__Mapper/img/formatDateTime.png]]                                  | <div style="width:300px"><pre style="background-color: #F5F5F7;"><code style="color: #000;">formatDateTime(</code><br/><code style="color: #000;">   'yyyy-MM-dd HH:mm:ss.SSSZ',</code><br/><code style="color: #000;">   constant.year,</code><br/><code style="color: #000;">   constant.month,</code><br/><code style="color: #000;">   constant.dayOfMonth,</code><br/><code style="color: #000;">   null, -- hours</code><br/><code style="color: #000;">   null, -- minutes</code><br/><code style="color: #000;">   null, -- seconds</code><br/><code style="color: #000;">   null, -- milliseconds</code><br/><code style="color: #000;">   'Europe/Moscow', -- timezone</code><br/><code style="color: #000;">   'ru' -- locale</code><br/><code style="color: #000;">)</code></pre></div> | <div style="width:300px"><pre style="background-color: #F5F5F7;"><code style="color: #000000">No body</code></code></pre></div>                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                              | <div style="width:300px"><pre style="background-color: #F5F5F7;"><code style="color: #000;">{</code><br/><code style="color: #000000">   "dateTime": "2024-05-27 00:00:00.000+0300"</code><br/><code style="color: #000000">}</code></pre></div>                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                     |
| <div style="width:200px"><strong>makeObject</strong><br/>Build key/value map from primitives and objects.</div>                                                                                                                                                                                                                                                                                                                                                                                                                                                             | ![[docs/01__Chains/1__Graph/1__QIP_Elements_Library/5__Transformation/2__Mapper/img/makeObject.png]]                                      | <div style="width:300px"><pre style="background-color: #F5F5F7;"><code style="color: #000;">makeObject(</code><br/><code style="color: #000;">   body.customerName, body.orderCount,</code><br/><code style="color: #000;">   body.product, body.productModel,</code><br/><code style="color: #000;">   body.deliveryMethod, body.customerAddress</code><br/><code style="color: #000;">)</code></pre></div>                                                                                                                                                                                                                                                                                                                                                                                        | <div style="width:300px"><pre style="background-color: #F5F5F7;"><code style="color: #000;">{</code><br/><code style="color: #000000">   "customerName": "John Smith",</code><br/><code style="color: #000000">   "orderCount": 10,</code><br/><code style="color: #000000">   "product": "mobile",</code><br/><code style="color: #000000">   "productModel": "Samsung Galaxy",</code><br/><code style="color: #000000">   "deliveryMethod":"Store",</code><br/><code style="color: #000000">   "customerAddress":{</code><br/><code style="color: #000000">      "zipCode":"81647",</code><br/><code style="color: #000000">      "street":{</code><br/><code style="color: #000000">         "streetName":"Piramide Drive"</code><br/><code style="color: #000000">      }</code><br/><code style="color: #000000">   }</code><br/><code style="color: #000000">}</code></pre></div>                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      | <div style="width:300px"><pre style="background-color: #F5F5F7;"><code style="color: #000;">{</code><br/><code style="color: #000000">   "customerOrder": {</code><br/><code style="color: #000000">      "John Smith": 10,</code><br/><code style="color: #000000">      "mobile": "Samsung Galaxy",</code><br/><code style="color: #000000">      "Store": {</code><br/><code style="color: #000000">         "zipCode": "81647",</code><br/><code style="color: #000000">         "street": {</code><br/><code style="color: #000000">            "streetName": "Piramide Drive"</code><br/><code style="color: #000000">         }</code><br/><code style="color: #000000">      }</code><br/><code style="color: #000000">   }</code><br/><code style="color: #000000">}</code></pre></div>                                                                                                                                                                                     |
| <div style="width:200px"><strong>mergeObjects</strong><br/>Merge objects or array of objects to a new object.</div><div style="background-color: #e7f3fe; border-left: 6px solid #2196F3; padding: 10px"><b>Note:</b><br/>Pay attention to the fields with identical names - the resulted structure will only contain a single field with the value that was populated last.</div>                                                                                                                                                                                          | ![[docs/01__Chains/1__Graph/1__QIP_Elements_Library/5__Transformation/2__Mapper/img/mergeObjects.png]]                                    | <div style="width:300px"><pre style="background-color: #F5F5F7;"><code style="color: #000;">mergeObjects(</code><br/><code style="color: #000;">   body.account,</code><br/><code style="color: #000;">   body.accountInfo,</code><br/><code style="color: #000;">   filterBy(body.item, true),  -- every object from array will be fetched</code><br/><code style="color: #000;">   getFirst(body.contactMethods),</code><br/><code style="color: #000;">   body.agent,</code><br/><code style="color: #000;">   makeObject('storeId', '1000008') -- where 'storeId' is a key and '1000008' is a value</code><br/><code style="color: #000;">)</code></pre></div>                                                                                                                                  | <div style="width:300px"><pre style="background-color: #F5F5F7;"><code style="color: #000;">{</code><br/><code style="color: #000000">   "account": {</code><br/><code style="color: #000000">      "name": "John Smith"</code><br/><code style="color: #000000">   },</code><br/><code style="color: #000000">   "accountInfo": {</code><br/><code style="color: #000000">      "language": "eng"</code><br/><code style="color: #000000">   },</code><br/><code style="color: #000000">   "item": [</code><br/><code style="color: #000000">      {</code><br/><code style="color: #000000">         "itemName": "Apple IPhone 14"</code><br/><code style="color: #000000">      },</code><br/><code style="color: #000000">      {</code><br/><code style="color: #000000">         "type": "Mobile Phone"</code><br/><code style="color: #000000">      }</code><br/><code style="color: #000000">   ],</code><br/><code style="color: #000000">   "contactMethods": [</code><br/><code style="color: #000000">      {</code><br/><code style="color: #000000">         "id": "6e81f49c-ba58-495b-bada-eda6b4d9afd4"</code><br/><code style="color: #000000">      },</code><br/><code style="color: #000000">      {</code><br/><code style="color: #000000">         "id": "916361c5-795c-44a5-a1e8-cad07dbec4b6"</code><br/><code style="color: #000000">      }</code><br/><code style="color: #000000">   ],</code><br/><code style="color: #000000">    "agent": [</code><br/><code style="color: #000000">      {</code><br/><code style="color: #000000">         "agentName": "Raul Gonzalez"</code><br/><code style="color: #000000">      },</code><br/><code style="color: #000000">      {</code><br/><code style="color: #000000">         "position": "Manager"</code><br/><code style="color: #000000">      }</code><br/><code style="color: #000000">   ]</code><br/><code style="color: #000000">}</code></pre></div> | <div style="width:300px"><pre style="background-color: #F5F5F7;"><code style="color: #000;">{</code><br/><code style="color: #000000">   "order": {</code><br/><code style="color: #000000">      "name": "John Smith",</code><br/><code style="color: #000000">      "language": "eng",</code><br/><code style="color: #000000">      "itemName": "Apple IPhone 14",</code><br/><code style="color: #000000">      "type": "Mobile Phone",</code><br/><code style="color: #000000">      "id": "6e81f49c-ba58-495b-bada-eda6b4d9afd4",</code><br/><code style="color: #000000">      "agentName": "Raul Gonzalez",</code><br/><code style="color: #000000">      "position": "Manager",</code><br/><code style="color: #000000">      "storeId": "1000008"</code><br/><code style="color: #000000">   }</code><br/><code style="color: #000000">}</code></pre></div>                                                                                                                |
| <div style="width:200px"><strong>list</strong><br/>Build list from primitives, objects and arrays.</div>                                                                                                                                                                                                                                                                                                                                                                                                                                                                    | ![[docs/01__Chains/1__Graph/1__QIP_Elements_Library/5__Transformation/2__Mapper/img/list.png]]                                            | <div style="width:300px"><pre style="background-color: #F5F5F7;"><code style="color: #000;">list(</code><br/><code style="color: #000;">   makeObject('requester', body.customerName),</code><br/><code style="color: #000;">   makeObject('user', property.user.userName)</code><br/><code style="color: #000;">)</code></pre></div>                                                                                                                                                                                                                                                                                                                                                                                                                                                               | <div style="width:300px"><pre style="background-color: #F5F5F7;"><code style="color: #000;">{</code><br/><code style="color: #000000">   "customerName": "Stefano Espiga"</code><br><code style="color: #000000">}</code></pre></div>                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        | <div style="width:300px"><pre style="background-color: #F5F5F7;"><code style="color: #000;">{</code><br/><code style="color: #000000">   "report": [</code><br/><code style="color: #000000">      {</code><br/><code style="color: #000000">         "requester": "Stefano Espiga"</code><br/><code style="color: #000000">      },</code><br/><code style="color: #000000">      {</code><br/><code style="color: #000000">         "user": "system"</code><br/><code style="color: #000000">      }</code><br/><code style="color: #000000">   ]</code><br/><code style="color: #000000">}</code></pre></div>                                                                                                                                                                                                                                                                                                                                                                     |

### Dictionary
This option allows to configure a dictionary, that could match retrieved value with another value from the dictionary and use its translation instead of the source value. User is able to work with dictionary configuration via table view with buttons "**Add rule**", "**Clear rules**" and switch to the code view. Value specified in "**Default**" field will be used when input value has no matches in the dictionary. Inability to find proper match while having empty "**Default**" field leads to error.

| <div style="width:200px">Scenario</div>                                                    | <div style="width:500px"> Mapper structure sample </div> | <div style="width:300px"> Transformation sample </div>                                                                                                                | <div style="width:300px"> Input data </div>                                                                                                                                                                        | <div style="width:300px"> Result </div>                                                                                                                                                                                      |
| ------------------------------------------------------------------------------------------ | -------------------------------------------------------- | --------------------------------------------------------------------------------------------------------------------------------------------------------------------- | ------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------ | ---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
| <div style="width:200px">Replace value with matching value, specified in dictionary.</div> | ![[docs/01__Chains/1__Graph/1__QIP_Elements_Library/5__Transformation/2__Mapper/img/dictionary.png]]                                      | <div style="width:300px"><pre style="background-color: #F5F5F7;"><code style="color: #000;">R = Red</code><br/><code style="color: #000;">B = Blue</code></pre></div> | <div style="width:300px"><pre style="background-color: #F5F5F7;"><code style="color: #000;">{</code><br/><code style="color: #000000">   "color": "R"</code><br/><code style="color: #000000">}</code></pre></div> | <div style="width:300px"><pre style="background-color: #F5F5F7;"><code style="color: #000;">{</code><br/><code style="color: #000000">   "selectedColor": "Red"</code><br/><code style="color: #000000">}</code></pre></div> |

### Format date/time
This transformation type is intended to convert source date to the desirable format. Next details could be specified for input output:
- Checkbox "**Unix epoch**" - if checked, date is going to be handled by Unix format.
- **Format** - specifies the format of date/datetime (e.g., dd-MM-yyyy). Not available for Unix format. If output format requires time, time zone and locale, but they are either missing in the request or settings, system will pick default values as "00:00:00", "UTC" and "en_US" respectively.
- **Locale** - specifies locale (e.g., en_US). Not available for Unix format.
- **Timezone** - specifies timezone (e.g., GMT). Not available for Unix format.

| <div style="width:200px">Scenario</div>                                                            | <div style="width:500px"> Mapper structure sample </div> | <div style="width:300px"> Transformation sample </div>                                                                                                                                                                                                                                                                                                                                                    | <div style="width:300px"> Input data </div>                                                                                                                                                                                                      | <div style="width:300px"> Result </div>                                                                                                                                                                                             |
| -------------------------------------------------------------------------------------------------- | -------------------------------------------------------- | --------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- | ------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------ | ----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
| <div style="width:200px">Convert source data from 'yyyy-MM-dd HH:mm:ss.SSSZ' to Unix format.</div> | ![[docs/01__Chains/1__Graph/1__QIP_Elements_Library/5__Transformation/2__Mapper/img/formatDateTime2.png]]                                 | <div style="width:300px"><pre style="background-color: #F5F5F7;"><code style="color: #000;">Input:</code><br/><code style="color: #000;">Format: yyyy-MM-dd HH:mm:ss.SSSZ</code><br/><code style="color: #000;">Locale: en_US</code><br/><code style="color: #000;">Time zone: GMT</code><br/><br/><code style="color: #000;">Output:</code><br/><code style="color: #000;">Unix epoch</code></pre></div> | <div style="width:300px"><pre style="background-color: #F5F5F7;"><code style="color: #000;">{</code><br/><code style="color: #000000">   "dateTime": "2024-05-27 17:11:12.532+0400"</code><br/><code style="color: #000000">}</code></pre></div> | <div style="width:300px"><pre style="background-color: #F5F5F7;"><code style="color: #000;">{</code><br/><code style="color: #000000">   "orderDateTime": "1716815472"</code><br/><code style="color: #000000">}</code></pre></div> |

### Conditional

Via this option it is possible to add a condition and true/false values. Available fields:
- **Condition** - Mandatory field. Specifies a condition itself.
- **True expression** - Mandatory field. Specifies the value, when condition is fulfilled (true).
- **False expression** - Mandatory field. Specifies the value, when condition is not fulfilled (false).

Every value shall be specified by using an expression, written in custom AtlasMap syntax.

| <div style="width:200px">Scenario</div>                                                                  | <div style="width:500px"> Mapper structure sample </div> | <div style="width:300px"> Transformation sample </div>                                                                                                                                                                                                                                            | <div style="width:300px"> Input data </div>                                                                                                                                                                                                                                                                                                                                                                                     | <div style="width:300px"> Result </div>                                                                                                                                                                                                                                                                                                                                                                                            |
| -------------------------------------------------------------------------------------------------------- | -------------------------------------------------------- | ------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- | ------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- | ---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
| <div style="width:200px">Return "1" if primitive has "Completed" status, otherwise "0".</div>            | ![[docs/01__Chains/1__Graph/1__QIP_Elements_Library/5__Transformation/2__Mapper/img/conditional1.png]]                                    | <div style="width:300px"><pre style="background-color: #F5F5F7;"><code style="color: #000;">Condition: body.status == 'Completed'</code><br/><code style="color: #000;">True expression: 1</code><br/><code style="color: #000;">False expression: 0</code></pre></div>                           | <div style="width:300px"><pre style="background-color: #F5F5F7;"><code style="color: #000;">{</code><br/><code style="color: #000000">   "status": "Completed"</code><br/><code style="color: #000000">}</code></pre></div>                                                                                                                                                                                                     | <div style="width:300px"><pre style="background-color: #F5F5F7;"><code style="color: #000;">{</code><br/><code style="color: #000000">   "result": 1</code><br/><code style="color: #000000">}</code></pre></div>                                                                                                                                                                                                                  |
| <div style="width:200px">Return "missing" if object is null, otherwise use the value from request.</div> | ![[docs/01__Chains/1__Graph/1__QIP_Elements_Library/5__Transformation/2__Mapper/img/conditional2.png]]                                    | <div style="width:300px"><pre style="background-color: #F5F5F7;"><code style="color: #000;">Condition: Condition: body.customer == null</code><br/><code style="color: #000;">True expression: 'missing'</code><br/><code style="color: #000;">False expression: body.customer</code></pre></div> | <div style="width:300px"><pre style="background-color: #F5F5F7;"><code style="color: #000;">{</code><br/><code style="color: #000;">   "customer": {</code><br/><code style="color: #000000">      "id": "d532bf5b-09d3-4ee5-81db-90905fd4f59e"</code><br/><code style="color: #000000">      "name": "Raul Gonzalez"</code><br/><code style="color: #000000">   }</code><br/><code style="color: #000000">}</code></pre></div> | <div style="width:300px"><pre style="background-color: #F5F5F7;"><code style="color: #000;">{</code><br/><code style="color: #000;">   "newCustomer": {</code><br/><code style="color: #000000">      "id": "d532bf5b-09d3-4ee5-81db-90905fd4f59e"</code><br/><code style="color: #000000">      "name": "Raul Gonzalez"</code><br/><code style="color: #000000">   }</code><br/><code style="color: #000000">}</code></pre></div> |

### Default value

This option allows to specify a default value for the mapped parameter when its value is null, empty or whole parameter is missing in the request. Source parameter, participating in the transformation, must not have a default value in a scheme, otherwise logic won't be fulfilled.

| <div style="width:200px">Scenario</div>                                                                  | <div style="width:500px"> Mapper structure sample </div> | <div style="width:300px"> Transformation sample </div>                                                                            | <div style="width:300px"> Input data </div>                                                                            | <div style="width:300px"> Result </div>                                                                                                                                                                                   |
| -------------------------------------------------------------------------------------------------------- | -------------------------------------------------------- | --------------------------------------------------------------------------------------------------------------------------------- | ---------------------------------------------------------------------------------------------------------------------- | ------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
| <div style="width:200px">Set default value for primitive when parameter is missing in the request.</div> | ![[docs/01__Chains/1__Graph/1__QIP_Elements_Library/5__Transformation/2__Mapper/img/default.png]]                                         | <div style="width:300px"><pre style="background-color: #F5F5F7;"><code style="color: #000;">Value: 2024_3</code><br/></pre></div> | <div style="width:300px"><pre style="background-color: #F5F5F7;"><code style="color: #000;">No body</code></pre></div> | <div style="width:300px"><pre style="background-color: #F5F5F7;"><code style="color: #000;">{</code><br/><code style="color: #000000">   "version": "2024_3"</code><br/><code style="color: #000000">}</code></pre></div> |

### Replace all

This option allows to edit entered value, by replacing its part, utilizing regular expressions. Next fields are available on the window, when "Replace all" transformation is selected:

- **Regular expression** - field that accepts regular expressions to find the part for replacement.
- **Replacement** - field that contains the data that shall be placed instead.

| <div style="width:200px">Scenario</div>                                       | <div style="width:500px"> Mapper structure sample </div> | <div style="width:300px"> Transformation sample </div>                                                                                                                                                             | <div style="width:300px"> Input data </div>                                                                                                                                                                                                                                                                                                                                                                                                                                                 | <div style="width:300px"> Result </div>                                                                                                                                                                                                                                                                                                                                                                                                                                                  |
| ----------------------------------------------------------------------------- | -------------------------------------------------------- | ------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------ | ------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- | ---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
| <div style="width:200px">Capture each separate word to circle brackets.</div> | ![[docs/01__Chains/1__Graph/1__QIP_Elements_Library/5__Transformation/2__Mapper/img/replaceAll1.png]]                                     | <div style="width:300px"><pre style="background-color: #F5F5F7;"><code style="color: #000;">Regular expression: (\w[\w\d]*)</code><br/><code style="color: #000;">Replacement: ($1)</code></pre></div>             | <div style="width:300px"><pre style="background-color: #F5F5F7;"><code style="color: #000;">{</code><br/><code style="color: #000000">   "message": "You order has been created successfully"</code><br/><code style="color: #000000">}</code></pre></div>                                                                                                                                                                                                                                  | <div style="width:300px"><pre style="background-color: #F5F5F7;"><code style="color: #000;">{</code><br/><code style="color: #000000">   "orderDescription": "(You) (order) (has) (been) (created) (successfully)"</code><br/><code style="color: #000000">}</code></pre></div>                                                                                                                                                                                                          |
| <div style="width:200px">Replace commas with dots between digits.</div>       | ![[docs/01__Chains/1__Graph/1__QIP_Elements_Library/5__Transformation/2__Mapper/img/replaceAll2.png]]                                     | <div style="width:300px"><pre style="background-color: #F5F5F7;"><code style="color: #000;">Condition: Regular expression: (?<=\d)\,(?=\d)</code><br/><code style="color: #000;">Replacement: .</code></pre></div> | <div style="width:300px"><pre style="background-color: #F5F5F7;"><code style="color: #000;">{</code><br/><code style="color: #000000">   "priceList":[ </code><br/><code style="color: #000000">       "12,5",</code><br/><code style="color: #000000">       "10",</code><br/><code style="color: #000000">       "9,25",</code><br/><code style="color: #000000">       "18,75"</code><br/><code style="color: #000000">   ]</code><br/><code style="color: #000000">}</code></pre></div> | <div style="width:300px"><pre style="background-color: #F5F5F7;"><code style="color: #000;">{</code><br/><code style="color: #000000">   "prices":[ </code><br/><code style="color: #000000">       "12.5",</code><br/><code style="color: #000000">       "10",</code><br/><code style="color: #000000">       "9.25",</code><br/><code style="color: #000000">       "18.75"</code><br/><code style="color: #000000">   ]</code><br/><code style="color: #000000">}</code></pre></div> |

### Trim

This option allows to strip spaces in the given string. Field "**Side**" additionally sets the target of trim operation: Left, Right, Both.

| <div style="width:200px">Scenario</div>                                          | <div style="width:500px"> Mapper structure sample </div> | <div style="width:300px"> Transformation sample </div>                                                                          | <div style="width:300px"> Input data </div>                                                                                                                                                                                                        | <div style="width:300px"> Result </div>                                                                                                                                                                                                               |
| -------------------------------------------------------------------------------- | -------------------------------------------------------- | ------------------------------------------------------------------------------------------------------------------------------- | -------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- | ----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
| <div style="width:200px">Trim leading and trailing spaces from the string.</div> | ![[docs/01__Chains/1__Graph/1__QIP_Elements_Library/5__Transformation/2__Mapper/img/trim.png]]                                            | <div style="width:300px"><pre style="background-color: #F5F5F7;"><code style="color: #000;">Side: Right</code><br/></pre></div> | <div style="width:300px"><pre style="background-color: #F5F5F7;"><code style="color: #000;">{</code><br/><code style="color: #000;">   "description": "Insurance is not required      "</code><br/><code style="color: #000;">}</code></pre></div> | <div style="width:300px"><pre style="background-color: #F5F5F7;"><code style="color: #000;">{</code><br/><code style="color: #000000">   "orderDescription": "Insurance is not required"</code><br/><code style="color: #000000">}</code></pre></div> |
