# GraphQL Sender
## Description

---
**GraphQL Sender** allows to execute query or mutation on the particular GraphQL server, connected via HTTP.

## User Interface

---
### "Parameters" Tab
#### Common Parameters
| Parameter                                           | <div style="width:75px">Mandatory</div> | <div style="width:75px">Data Type</div> | Description                                                                                                                                                                                                                                         | <div style="width:350px">Sample </div>                      |
|-----------------------------------------------------|:----------------------------------------|:----------------------------------------|-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|-------------------------------------------------------------|
| <div style="width:150px">Enable M2M Security </div> | M                                       | Boolean                                 | <div style="width:400px">Specifies whether M2M token should be used to make a query.</div>                                                                                                                                                          | N/A                                                         |
| <div style="width:150px">GraphQL server URI </div>  | M                                       | String                                  | <div style="width:400px">GraphQL server URI.</div>                                                                                                                                                                                                  | <div style="width:350px">https://example.com/graphql </div> |
| <div style="width:150px">Operation Name  </div>     | O                                       | String                                  | <div style="width:400px">The query or mutation name. Optional if query contains single operation.	</div>                                                                                                                                            | <div style="width:350px">GetTicketById</div>                |
| <div style="width:150px">Query</div>                | M                                       | String                                  | <div style="width:400px">GraphQL query, required to be executed.<div style="background-color: #e7f3fe; border-left: 6px solid #2196F3; padding: 10px"><b>Note:</b><br> More than one query or mutation can be entered at the same time.</div></div> | N/A                                                         |
| <div style="width:150px">Variables JSON</div>       | O                                       | String                                  | <div style="width:400px">The JsonObject instance, that contains the operation variables. Camel Exchange variables can also be used.</div>                                                                                                           | N/A                                                         |
| <div style="width:150px">Connection timeout</div>   | O                                       | Number                                  | <div style="width:400px">Specifies connection timeout in milliseconds.</br> **Default value:** 120000  </div>                                                                                                                                       | 12000                                                       |

<details open><summary>Query sample</summary>
<b>Query:</b>
<pre style="background-color: #F5F5F7"><code  style="color: #000000">query getVehicle { 
    vehicles(count: $countvar) {
        id
        type
        modelCode
    }
}
</code></pre>


<b>Variables:</b>
<pre style="background-color: #F5F5F7"><code  style="color: #000000">{
    "countvar": 2
}
</code></pre>
</details>

#### Advanced Parameters
| Parameter                                                    | <div style="width:75px">Mandatory</div> | <div style="width:75px">Data Type</div> | Description                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                     | <div style="width:350px">Sample </div>          |
| ------------------------------------------------------------ | :-------------------------------------- | :-------------------------------------- | ----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- | ----------------------------------------------- |
| <div style="width:150px">External call</div>                 | M                                       | Boolean                                 | <div style="width:400px">Checkbox, that specifies if called URI is registered on External gateway.<ul><li><b>If marked</b> - request will be performed through Egress Gateway. Both HTTP and HTTPS are allowed.</li><li><b>If not marked</b> - URI will be called directly. Only HTTP is applicable for this case.</li></ul> </div>                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                             | <div style="width:350px">N/A</div>              |
| <div style="width:150px">Reuse established connection </div> | M                                       | Boolean                                 | <div style="width:400px">Checkbox, that controls ability of using same connection for multiple requests.	</div>                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                 | <div style="width:350px">N/A</div>              |
| <div style="width:150px">Propagate context</div>             | M                                       | Boolean                                 | <div style="width:400px">Checkbox, that defines if context to special ("Technical") headers before sending message will be propagated or not.<ul><li>If <b>checked</b> (default): context to this call will be propagated, which will lead to the reinstatement of all technical headers, that are stored in context.</li><li>If <b>unchecked</b>: call propagation will be switched off, hence values of technical headers, that are stored in the context won't be reinstated.</li></ul>Additionally, when <b>"Propagate context"</b> is checked, <b>"Override Technical Context Headers"</b> table becomes available to the user. This table allows to override the value for the specific header, that has been propagated from context. <div style="background-color: #e7f3fe; border-left: 6px solid #2196F3; padding: 10px"><b>Note:</b><br> For the actual list of technical headers, please, contact system administrator.</div></div> | <div style="width:350px">N/A</div>              |
| <div style="width:150px">Receive correlation id</div>        | O                                       | Boolean                                 | <div style="width:400px">Checkbox, that enables ability to define correlation id.</div>                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                         | <div style="width:350px">N/A</div>              |
| <div style="width:150px">Correlation Id Position</div>       | O                                       | List                                    | <div style="width:400px">Position of correlation id in request. Possible values: <ul><li>Header</li><li>Body</li></ul>Visible if <b>"Receive correlation id"</b> checkbox is marked.</div>                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      | <div style="width:350px">Header</div>           |
| <div style="width:150px">Correlation Id Key</div>            | O                                       | String                                  | <div style="width:400px">The exact name of the header or body parameter, that holds correlation id value.</div>                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                 | <div style="width:350px">correlationIdKey</div> |

#### Metadata
| Parameter                                  | <div style="width:75px">Mandatory</div>  | <div style="width:75px">Data Type</div>   | Description                                                                               | <div style="width:350px">Sample </div>                             |
|--------------------------------------------|:-----------------------------------------|:------------------------------------------|-------------------------------------------------------------------------------------------|--------------------------------------------------------------------|
| <div style="width:150px">Name</div>        | M                                        | String                                    | <div style="width:400px">Name of the element.</div>                                       | <div style="width:350px">GrapQL Server</div>                       |
| <div style="width:150px">Description</div> | O                                        | String                                    | <div style="width:400px">Free text field, that contains description of the element.</div> | <div style="width:350px">Gets trouble ticket name and status</div> |

## Constraints

---
There are no specific constraints for the element.
