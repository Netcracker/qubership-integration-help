# Kafka Sender
## Description

---
**Kafka Sender** element allows to send messages to the **Apache Kafka** message broker.

## User Interface

---
### "Parameters" Tab
#### Common Parameters

- **"Manual"** connection source type

| Parameter                                        | <div style="width:75px">Mandatory</div> | <div style="width:75px">Data Type</div> | Description                                                                                                                                                                                                                                                                                                                                               | Sample                                                                                                                             |
| ------------------------------------------------ | :-------------------------------------- | :-------------------------------------- | --------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- | ---------------------------------------------------------------------------------------------------------------------------------- |
| <div style="width:150px">Brokers</div>           | M                                       | String                                  | <div style="width:400px">Address of Kafka brokers. List can contain subset of brokers or a VIP pointing to the subset of brokers. Equivalent of <b>bootstrap.servers</b> in the Kafka documentation.<br/><b>Format:</b><br/><pre style="background-color: #F5F5F7"><code  style="color: #000000">exchange.getMessage().setBody("Body")</code></pre></div> | <div style="width:350px">kafka-server:9090</div>                                                                                   |
| <div style="width:150px">Topic</div>             | M                                       | String                                  | <div style="width:400px">Name of the Kafka topic, to where messages will be passed.	</div>                                                                                                                                                                                                                                                                | <div style="width:350px">topic1</div>                                                                                              |
| <div style="width:150px">Key</div>               | O                                       | String                                  | <div style="width:400px">Kafka message key, utilized to properly order messages if required. If specified, it takes precedence over header <b>KafkaConstants#KEY</b>.</div>                                                                                                                                                                               | <div style="width:350px">topic1-key</div>                                                                                          |
| <div style="width:150px">SASL Mechanism</div>    | M                                       | List                                    | <div style="width:400px">List with possible SASL Mechanisms. Options are described here: http://www.iana.org/assignments/sasl-mechanisms/sasl-mechanisms.xhtml</div>                                                                                                                                                                                      | <div style="width:350px">GSSAPI</div>                                                                                              |
| <div style="width:150px">Security Protocol</div> | M                                       | List                                    | <div style="width:400px">Protocol used to communicate with brokers. Possible values:<ul><li>SASL_PLAINTEXT</li><li>PLAINTEXT</li><li>SASL_SSL</li><li>SSL</li></ul> </div>                                                                                                                                                                                | <div style="width:350px">PLAINTEXT</div>                                                                                           |
| <div style="width:150px">SASL JAAS Config</div>  | O                                       | String                                  | <div style="width:400px">Allows to specify Kafka sasl.jaas.config parameter.</div>                                                                                                                                                                                                                                                                        | <div style="width:350px">org.apache.kafka.common.security.plain.PlainLoginModule required username=example password=example;</div> |

- **"MaaS"** connection source type

| Parameter                                            | <div style="width:75px">Mandatory</div> | <div style="width:75px">Data Type</div> | Description                                                                                                                                                                                                                                                                                       | Sample                                                              |
| ---------------------------------------------------- | :-------------------------------------- | :-------------------------------------- | ------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- | ------------------------------------------------------------------- |
| <div style="width:150px">Topic Classifier Name</div> | M                                       | String                                  | <div style="width:400px">Specifies the name of the MaaS classifier, that corresponds to topic.</div>                                                                                                                                                                                              | <div style="width:350px">topic1-classifier</div>                    |
| <div style="width:150px">Classifier Namespace</div>  | O                                       | String                                  | <div style="width:400px">Specifies classifier namespace, that shall be used instead of default one. If left empty, default namespace will be utilized. Only works, when MaaS has a security permission rule to access a different namespace, otherwise topic classifier won't be retrieved.</div> | <div style="width:350px">newNamespace</div>                         |
| <div style="width:150px">Tenant topic enabled</div>  | M                                       | Boolean                                 | <div style="width:400px">Checkbox, that enables "tenantId" field in classifier.<br/><b>Default value: </b>public</div>                                                                                                                                                                            | <div style="width:350px">false</div>                                |
| <div style="width:150px">Classifier Tenant Id</div>  | C                                       | String                                  | <div style="width:400px">Specifies tenant unique identifier. If not specified, default value will be used. Only works, when "Tenant topic enabled" is "true".</div>                                                                                                                               | <div style="width:350px">d334cf82-11aa-4vz9-a1a6-ba9f6aa06e09</div> |
| <div style="width:150px">Key</div>                   | O                                       | String                                  | <div style="width:400px">Kafka message key, utilized to properly order messages if required. If specified, it takes precedence over header KafkaConstants#KEY.</div>                                                                                                                              | <div style="width:350px">topic1-key</div>                           |

#### Advanced Parameters
| Parameter                                               | <div style="width:75px">Mandatory</div> | <div style="width:75px">Data Type</div> | Description                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                     | Sample                                                                                 |
|---------------------------------------------------------|:----------------------------------------|:----------------------------------------|-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|----------------------------------------------------------------------------------------|
| <div style="width:150px">SSL Protocol</div>             | M                                       | List                                    | <div style="width:400px">The SSL protocol used to generate the SSLContext. Default setting is TLS, which is used for most of the cases. Possible values: <li>TLS</li><li>TLSv1.1</li><li>TLSv1.2</li><li>TLSv1.3</li></div>                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                     | <div style="width:350px">TLSv1.2</div>                                                 |
| <div style="width:150px">SSL endpoint algorithm</div>   | O                                       | String                                  | <div style="width:400px">Specifies the endpoint identification algorithm for server hostname validation with server certificate.</div>                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                          | <div style="width:350px">HTTPS</div>                                                   |
| <div style="width:150px">Key Serializer</div>           | M                                       | List                                    | <div style="width:400px">The serializer class for Kafka messages.	</div>                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        | <div style="width:350px">org.apache.kafka.common.serialization.StringSerializer</div>  |
| <div style="width:150px">Message serializer class</div> | M                                       | List                                    | <div style="width:400px">The serializer class for message keys. If no particular serializer selected, then serializer from "Message serializer class" field will be utilized.</div>                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                             | <div style="width:350px">org.apache.kafka.common.serialization.IntegerSerializer</div> |
| <div style="width:150px">Propagate context</div>        | M                                       | Boolean                                 | <div style="width:400px">Checkbox, that defines if context to special ("Technical") headers before sending message will be propagated or not.<ul><li>If <b>checked</b> (default): context to this call will be propagated, which will lead to the reinstatement of all technical headers, that are stored in context.</li><li>If <b>unchecked</b>: call propagation will be switched off, hence values of technical headers, that are stored in the context won't be reinstated.</li></ul>Additionally, when <b>"Propagate context"</b> is checked, <b>"Override Technical Context Headers"</b> table becomes available to the user. This table allows to override the value for the specific header, that has been propagated from context. <div style="background-color: #e7f3fe; border-left: 6px solid #2196F3; padding: 10px"><b>Note:</b><br> For the actual list of technical headers, please, contact system administrator.</div></div> | <div style="width:350px">N/A</div>                                                     |

#### Metadata
| Parameter                                  | <div style="width:75px">Mandatory</div> | <div style="width:75px">Data Type</div> | Description                                                                                | Sample                                                                                        |
|--------------------------------------------|:----------------------------------------|:----------------------------------------|--------------------------------------------------------------------------------------------|-----------------------------------------------------------------------------------------------|
| <div style="width:150px">Name</div>        | M                                       | String                                  | <div style="width:400px">Name of the element.</div>                                        | <div style="width:350px">Kafka Sender</div>                                                   |
| <div style="width:150px">Description</div> | O                                       | String                                  | <div style="width:400px">Free text field, that contains description of the element.</div>  | <div style="width:350px">This element passes notification messages to the mobile users</div>  |

## Constraints

---
Header "Authorization" will be removed by the system before sending the message.